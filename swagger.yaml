openapi: 3.0.3
info:
  title: TRIT API
  version: 1.0.0
servers:
  - url: https://localhost:8080
    description: Local server
tags:
  - name: auth
    description: 인증 관련 API
  - name: search
    description: 검색 관련 API
  - name: trip
    description: 여행 관련 API
  - name: spot-review
    description: 장소 리뷰 관련 API
  - name: triplog
    description: 여행 기록 관련 API
  - name: user
    description: 사용자 관련 API
paths:
  /auth/login:
    post:
      tags:
        - auth
      summary: 로그인
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequestDto'
      responses:
        '200':
          description: 로그인 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponseDto'
          headers:
            Set-Cookie:
              schema:
                type: string
                example: refreshToken=...; Path=/; Secure; HttpOnly; SameSite=None
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/logout:
    post:
      tags:
        - auth
      summary: 로그아웃
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 로그아웃 성공
          headers:
            Set-Cookie:
              schema:
                type: string
                example: refreshToken=; Max-Age=0; Path=/; Secure; HttpOnly; SameSite=None
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/signup:
    post:
      tags:
        - auth
      summary: 회원가입
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupRequestDto'
      responses:
        '201':
          description: 회원가입 성공
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/reset-password:
    post:
      tags:
        - auth
      summary: 비밀번호 재설정 요청
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequestDto'
      responses:
        '200':
          description: 성공
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/find-email/{nickname}:
    get:
      tags:
        - auth
      summary: 닉네임으로 이메일 찾기
      parameters:
        - name: nickname
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  email:
                    type: string
        '404':
          description: 사용자를 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/refresh:
    post:
      tags:
        - auth
      summary: Access Token 갱신
      parameters:
        - name: refreshToken
          in: cookie
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 토큰 갱신 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponseDto'
          headers:
            Set-Cookie:
              schema:
                type: string
                example: refreshToken=...; Path=/; Secure; HttpOnly; SameSite=None
        '401':
          description: 유효하지 않은 Refresh Token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /search/spots:
    get:
      tags:
        - search
      summary: 장소 검색
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SpotSearchDoc'
  /search/trip-logs:
    get:
      tags:
        - search
      summary: 여행 기록 검색
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripLogSearchDoc'
  /search/trips:
    get:
      tags:
        - search
      summary: 여행 검색
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripSearchDoc'
  /trips:
    post:
      tags:
        - trip
      summary: 여행 생성
      security:
        - bearerAuth: []
      responses:
        '201':
          description: 여행 생성 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripDetailResponseDto'
    get:
      tags:
        - trip
      summary: 내 여행 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [DRAFT, PLANNED, COMPLETED]
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripResponseDto'
  /trips/{tripId}:
    get:
      tags:
        - trip
      summary: 여행 상세 조회
      security:
        - bearerAuth: []
      parameters:
        - name: tripId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripDetailResponseDto'
    patch:
      tags:
        - trip
      summary: 여행 수정
      description: 모든 필드가 필요하지 않습니다. 부분적으로 업데이트가 가능합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: tripId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripUpdateRequestDto'
      responses:
        '200':
          description: 성공
    delete:
      tags:
        - trip
      summary: 여행 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: tripId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: 성공
  /trips/{tripId}/items:
    put:
      description: 'items의 필드는 spotId 또는 spot 중 하나만 쓸 수 있습니다.'
      tags:
        - trip
      summary: 여행 아이템 교체
      security:
        - bearerAuth: []
      parameters:
        - name: tripId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripItemsReplaceRequestDto'
      responses:
        '200':
          description: 성공
  /trips/{tripId}/scrap:
    post:
      tags:
        - trip
      summary: 여행 스크랩 (복사)
      description: 다른 사용자의 공개된 여행 또는 자신의 여행을 복사하여 내 여행으로 저장합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: tripId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 스크랩 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  tripId:
                    type: integer
                    format: int64
                description: 생성된 여행 ID
  /trip-logs:
    post:
      tags:
        - triplog
      summary: 여행 기록 생성
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripLogCreateRequestDto'
      responses:
        '201':
          description: 생성 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripLogCreateResponseDto'
    get:
      tags:
        - triplog
      summary: 유저별 여행 기록 전체 조회
      parameters:
        - name: userId
          in: query
          required: true
          schema:
            type: integer
            format: int64
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PageTripLogFeedResponseDto'
  /search/place:
    get:
      tags:
        - search
      summary: 키워드 장소 검색 (Kakao API)
      parameters:
        - name: keyword
          in: query
          required: true
          schema:
            type: string
        - name: lat
          in: query
          required: false
          schema:
            type: number
            format: double
        - name: lng
          in: query
          required: false
          schema:
            type: number
            format: double
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SpotResponseDto'
  /spots/hot:
    get:
      tags:
        - spot
      summary: Hot Place Top 10 조회
      description: 여행 계획에 가장 많이 추가된 상위 10개 장소를 조회합니다. (10분 캐싱)
      responses:
        '200':
          description: 조회 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SpotResponseDto'
  /spot-reviews:
    get:
      tags:
        - spot-review
      summary: 장소 리뷰 목록 조회
      parameters:
        - name: spotId
          in: query
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SpotReviewResponseDto'
    post:
      tags:
        - spot-review
      summary: 장소 리뷰 생성
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SpotReviewRequestDto'
      responses:
        '201':
          description: 생성 성공
        '409':
          description: 이미 리뷰를 작성함
  /spot-reviews/stats:
    get:
      tags:
        - spot-review
      summary: 장소 리뷰 통계 조회
      parameters:
        - name: spotId
          in: query
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpotReviewStatsResponseDto'
  /spot-reviews/{reviewId}:
    patch:
      tags:
        - spot-review
      summary: 장소 리뷰 수정
      security:
        - bearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SpotReviewUpdateRequestDto'
      responses:
        '200':
          description: 성공
    delete:
      tags:
        - spot-review
      summary: 장소 리뷰 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: 성공
  /trip-logs/feed:
    get:
      tags:
        - triplog
      summary: 여행 기록 피드 조회
      security:
        - bearerAuth: []
      parameters:
        - name: cursor
          in: query
          schema:
            type: integer
            format: int64
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SliceTripLogFeedResponseDto'
  /trip-logs/{logId}:
    get:
      tags:
        - triplog
      summary: 여행 기록 상세 조회
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripLogDetailResponseDto'
    patch:
      tags:
        - triplog
      summary: 여행 기록 수정
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripLogUpdateRequestDto'
      responses:
        '200':
          description: 성공
    delete:
      tags:
        - triplog
      summary: 여행 기록 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: 성공
  /trip-logs/comments/{commentId}:
    patch:
      tags:
        - trip-log-comment
      summary: 여행 기록 댓글 수정
      operationId: updateTripLogComment
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripLogCommentRequestDto'
        required: true
      responses:
        '200':
          description: 댓글 수정 성공
        '403':
          description: 권한 없음 (작성자 불일치)
        '404':
          description: 댓글 없음
    delete:
      tags:
        - trip-log-comment
      summary: 여행 기록 댓글 삭제
      operationId: deleteTripLogComment
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: 댓글 삭제 성공
        '403':
          description: 권한 없음
        '404':
          description: 댓글 없음
  /trip-logs/{logId}/comments:
    post:
      tags:
        - triplog
      summary: 여행 기록 댓글 추가
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TripLogCommentRequestDto'
      responses:
        '201':
          description: 성공
  /trip-logs/{logId}/likes/status:
    get:
      tags:
        - triplog
      summary: 여행 기록 좋아요 상태 조회
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripLogLikeResponseDto'
  /trip-logs/{logId}/likes:
    post:
      tags:
        - triplog
      summary: 여행 기록 좋아요
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripLogLikeResponseDto'
    delete:
      tags:
        - triplog
      summary: 여행 기록 좋아요 취소
      security:
        - bearerAuth: []
      parameters:
        - name: logId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripLogLikeResponseDto'
  /users/me:
    get:
      tags:
        - user
      summary: 내 정보 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfileResponseDto'
    patch:
      tags:
        - user
      summary: 내 정보 수정
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRequestDto'
      responses:
        '200':
          description: 성공
  /users/me/analysis:
    post:
      tags:
        - user
      summary: 내 여행 스타일 AI 분석
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AiTravelAnalysisDto'
  /users/{userId}/profile:
    get:
      tags:
        - user
      summary: 사용자 프로필 조회
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicUserProfileResponseDto'
  /users/{userId}/friends:
    get:
      tags:
        - user
      summary: 사용자 친구 목록 조회
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PublicUserProfileResponseDto'
  /users/profile-image:
    post:
      tags:
        - user
      summary: 프로필 이미지 수정
      security:
        - bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileImageUpdateResponseDto'
    delete:
      tags:
        - user
      summary: 프로필 이미지 삭제
      security:
        - bearerAuth: []
      responses:
        '204':
          description: 성공

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    LoginRequestDto:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
    LoginResponseDto:
      type: object
      properties:
        accessToken:
          type: string
        expiresIn:
          type: integer
          format: int64
        email:
          type: string
        nickname:
          type: string
    SignupRequestDto:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 8
        nickname:
          type: string
    PasswordResetRequestDto:
      type: object
      properties:
        email:
          type: string
          format: email
    TokenResponseDto:
      type: object
      properties:
        accessToken:
          type: string
        expiresIn:
          type: integer
          format: int64
    SpotSearchDoc:
      type: object
      properties:
        spotId:
          type: integer
          format: int64
        kakaoPlaceId:
          type: string
        name:
          type: string
        address:
          type: string
        category:
          type: string
        location:
          $ref: '#/components/schemas/GeoPoint'
        lat:
          type: number
          format: double
        lng:
          type: number
          format: double
        placeUrl:
          type: string
        thumbnailUrl:
          type: string
        reviewCount:
          type: integer
        averageRating:
          type: number
          format: double
        createdAt:
          type: string
          format: date-time
    GeoPoint:
      type: object
      properties:
        lat:
          type: number
          format: double
        lon:
          type: number
          format: double
    TripLogSearchDoc:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        content:
          type: string
        nickname:
          type: string
        profile_image_url:
          type: string
        image_url:
          type: string
        createdAt:
          type: string
          format: date-time
    TripSearchDoc:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        nickname:
          type: string
        profile_image_url:
          type: string
        image_url:
          type: string
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        createdAt:
          type: string
          format: date-time
    TripDetailResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        status:
          type: string
          enum: [DRAFT, PLANNED, COMPLETED]
        visibility:
          type: string
          enum: [PUBLIC, PRIVATE]
        locationSummary:
          type: string
        tripItems:
          type: array
          items:
            $ref: '#/components/schemas/TripItemResponseDto'
    TripItemResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        dayNumber:
          type: integer
        orderIndex:
          type: integer
        spot:
          $ref: '#/components/schemas/SpotResponseDto'
    SpotResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        kakaoPlaceId:
          type: string
        name:
          type: string
        address:
          type: string
        category:
          type: string
        lat:
          type: number
          format: bigdecimal
        lng:
          type: number
          format: bigdecimal
        placeUrl:
          type: string
        thumbnailUrl:
          type: string
    TripResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        title:
          type: string
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        status:
          type: string
          enum: [DRAFT, PLANNED, COMPLETED]
        visibility:
          type: string
          enum: [PUBLIC, PRIVATE]
        locationSummary:
          type: string
        isOwner:
          type: boolean
        spots:
          type: integer
        tags:
          type: array
          items:
            type: string
        spotPreviews:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
        completedDate:
          type: string
          format: date
    TripUpdateRequestDto:
      type: object
      properties:
        title:
          type: string
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        status:
          type: string
          enum: [DRAFT, PLANNED, COMPLETED]
        visibility:
          type: string
          enum: [PUBLIC, PRIVATE]
    TripItemsReplaceRequestDto:
      type: object
      properties:
        days:
          type: array
          items:
            $ref: '#/components/schemas/Day'
    Day:
      type: object
      properties:
        dayNumber:
          type: integer
        items:
          type: array
          items:
            $ref: '#/components/schemas/Item'
    Item:
      type: object
      description: 'spotId 또는 spot 중 하나만 존재해야 합니다.'
      properties:
        spotId:
          type: integer
          format: int64
          description: '기존에 등록된 여행지 ID'
        spot:
          $ref: '#/components/schemas/SpotRequestDto'
      oneOf:
        - required:
            - spotId
        - required:
            - spot'
    SpotRequestDto:
      type: object
      properties:
        kakaoPlaceId:
          type: string
        name:
          type: string
        address:
          type: string
        category:
          type: string
        lat:
          type: number
          format: bigdecimal
        lng:
          type: number
          format: bigdecimal
        placeUrl:
          type: string
        thumbnailUrl:
          type: string
    SliceTripLogFeedResponseDto:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/TripLogFeedResponseDto'
        nextCursor:
          type: integer
          format: int64
        hasNext:
          type: boolean
    PageTripLogFeedResponseDto:
      type: object
      properties:
        content:
          type: array
          items:
            $ref: '#/components/schemas/TripLogFeedResponseDto'
        page:
          type: integer
        size:
          type: integer
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
    TripLogFeedResponseDto:
      type: object
      properties:
        logId:
          type: integer
          format: int64
        authorId:
          type: integer
          format: int64
        authorNickname:
          type: string
        authorImageUrl:
          type: string
        title:
          type: string
        content:
          type: string
        locationSummary:
          type: string
        likeCount:
          type: integer
        commentCount:
          type: integer
        liked:
          type: boolean
        images:
          type: array
          items:
            $ref: '#/components/schemas/TripLogImageResponseDto'
        createdAt:
          type: string
          format: date-time
    TripLogCreateRequestDto:
      type: object
      properties:
        tripId:
          type: integer
          format: int64
        title:
          type: string
        content:
          type: string
        visibility:
          type: string
          enum: [PUBLIC, PRIVATE]
    TripLogCreateResponseDto:
      type: object
      properties:
        logId:
          type: integer
          format: int64
    TripLogUpdateRequestDto:
      type: object
      properties:
        title:
          type: string
        content:
          type: string
        visibility:
          type: string
          enum: [PUBLIC, PRIVATE]
    TripLogImageResponseDto:
      type: object
      properties:
        imageRefKey:
          type: string
        imageUrl:
          type: string
        orderIndex:
          type: integer
    TripLogDetailResponseDto:
      type: object
      properties:
        logId:
          type: integer
          format: int64
        title:
          type: string
        content:
          type: string
        locationSummary:
          type: string
        createdAt:
          type: string
          format: date-time
        authorNickname:
          type: string
        authorImageUrl:
          type: string
        tripId:
          type: integer
          format: int64
        tripTitle:
          type: string
        images:
          type: array
          items:
            $ref: '#/components/schemas/TripLogImageResponseDto'
        comments:
          type: array
          items:
            $ref: '#/components/schemas/TripLogCommentResponseDto'
        likeCount:
          type: integer
        commentCount:
          type: integer
    TripLogCommentResponseDto:
      type: object
      properties:
        commentId:
          type: integer
          format: int64
        authorNickname:
          type: string
        authorImageUrl:
          type: string
        content:
          type: string
        parentId:
          type: integer
          format: int64
          description: 부모 댓글 ID
        createdAt:
          type: string
          format: date-time
        replies:
          type: array
          items:
            $ref: '#/components/schemas/TripLogCommentResponseDto'
          description: 대댓글 리스트 (계층 구조)
    TripLogCommentRequestDto:
      type: object
      properties:
        content:
          type: string
        parentId:
          type: integer
          format: int64
          description: 부모 댓글 ID (대댓글일 경우 필수)
    TripLogLikeResponseDto:
      type: object
      properties:
        liked:
          type: boolean
        likeCount:
          type: integer
    UserProfileResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
        nickname:
          type: string
        profileImageUrl:
          type: string
        bio:
          type: string
        intro:
          type: string
        homeRegionId:
          type: integer
          format: int64
        travelStyleSummary:
          type: string
        travelStyleId:
          type: integer
          format: int64
        profileBannerUrl:
          type: string
        isProfilePublic:
          type: boolean
        friendsCount:
          type: integer
    UpdateUserRequestDto:
      type: object
      properties:
        nickname:
          type: string
        bio:
          type: string
    PublicUserProfileResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        nickname:
          type: string
        profileImageUrl:
          type: string
        bio:
          type: string
        intro:
          type: string
        homeRegionId:
          type: integer
          format: int64
        travelStyleSummary:
          type: string
        travelStyleId:
          type: integer
          format: int64
        profileBannerUrl:
          type: string
        isProfilePublic:
          type: boolean
        friendsCount:
          type: integer
    ProfileImageUpdateResponseDto:
      type: object
      properties:
        newImageUrl:
          type: string
    AiTravelAnalysisDto:
      type: object
      properties:
        keywords:
          type: array
          items:
            type: string
        summary:
          type: string
        scores:
          type: object
          properties:
            rest:
              type: integer
            exploration:
              type: integer
            activity:
              type: integer
            gourmet:
              type: integer
    ErrorResponse:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        invalidParams:
          type: array
          items:
            $ref: '#/components/schemas/InvalidParam'
    InvalidParam:
      type: object
      properties:
        name:
          type: string
        reason:
          type: string
    SpotReviewRequestDto:
      type: object
      properties:
        spotId:
          type: integer
          format: int64
        rating:
          type: number
          format: double
        content:
          type: string
    SpotReviewResponseDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
        spotId:
          type: integer
          format: int64
        userId:
          type: integer
          format: int64
        userNickname:
          type: string
        userProfileImage:
          type: string
        rating:
          type: number
          format: double
        content:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    SpotReviewUpdateRequestDto:
      type: object
      properties:
        rating:
          type: number
          format: double
        content:
          type: string
    SpotReviewStatsResponseDto:
      type: object
      properties:
        averageRating:
          type: number
          format: double
        reviewCount:
          type: integer
          format: int64
